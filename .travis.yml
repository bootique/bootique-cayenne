# Licensed to ObjectStyle LLC under one or more
# contributor license agreements. See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ObjectStyle LLC licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

language: java

jdk:
  - openjdk8
  - oraclejdk11
  - openjdk-ea

script:
  - mvn clean verify

jobs:
  include:
    - stage: deploy
      jdk: openjdk8
      script: mvn clean source:jar javadoc:javadoc deploy -DskipTests --settings travis_settings.xml
      if: branch IN (master, 1.0-STABLE) AND type IN (push) AND repo = bootique/bootique-cayenne

# travis encrypt -r bootique/bootique-cayenne "CI_DEPLOY_USERNAME='name'"
# travis encrypt -r bootique/bootique-cayenne "CI_DEPLOY_PASSWORD='password'"
env:
  global:
    - secure: "sdPjE+CvzMLfdrDui+Ki77/R6oNzUp9mY0l4yT8yIZ1jOQGSwVD0k61gGMrq70zRUZKizkZOqSONO5qtOvaB9oxKMNxYE7f+WKtP4XY99VjzJ61EmruJFbgqIR3BHTAQzX9F/FIMsgJKhfX2+rTw4EZV4XBGKeKDkcmWGhrWjiVnQL3Hjf+S0O/bOlXbhktzkGixZHzfBHgJu8czY1DnHdrnPPsaujoMaAawnqsJB0haoVNf0h4dhlGqd9rdWFEBQVCxDKRCdi8T6dfJFP7Ve2bTX5zA5Gn386CQRw4OP+peFrBRP0GjM6N+M46ussihX0SA5pRzVoCkB0hvLEnK8zOV5DA+OmsuDkcY300FjRHDIrKaljZZMleMLlP7JgrTWJ6y5yQ3KgwNuVYK0/RkGRCLJKK2PEIIQRE8wovDWphrSU7lqcAushiXZZTOWsTLodkpzMBFa9xOOZtKiJy/G0/atesLliO0WZ+JlzUZkBJY1mOTSLvJizQqNNWrKEk6zDgJoNmQqN1HzcDc/JHSACEVp6qGaRXa6PQdAYh6Omq6bw3vJTj9IqXwu8/NAr/hn2hmmRFsAWl3wb3KhqN6tWpGC/yKOGw61mRCDbcunDvYHZEKf6ZhK2ddxhfL1rCP0JrPrh53qz+qwwwktqQLUoEqY63EAuPubQj0fzaU4X4="
    - secure: "N2SMGj8hpc5bT3hUNf6Z1SW/r4UcOfNpGEojNJyxJWuwE1mpmDC/6ukWfXhC3m8Whh3nAuPe2lEw7k9gK2C6KLNPaURXEIwAHDpAEYdDaW4awJ+fDGawV3Ld82GTXf27s2d72BEcypY97WH7ch2a2nC00eupvLIQFKsHJ6qvLlPSBULNkvmFdaOHVJ1vJ/s//DRHnR1L4jDcOjpzPlRgZEZu5TbwRMZLxw2sF21qKDrFMZ8XlfNSdN4ZjT5VsiAGQYPJxE3uoNPPfbQHfmqyNm2a04pv+LMKiKD4je1fGE3WAqC4vtt24503cPbjWu6W1zKFDRI+iH/2DY4l3wVI3mDdhUFwS6oQsHOAPoeK4v3XUxKLTrTKmL/EnBcz68xVEqDaCFJZDAjpTuteDKgICfIZqYZn7P4363daXartVuzzi6r1fhsmeHG3CfvwxT6HGunv6DN/xkmvnc120OODBrzaTuxEVJnzsLqWULNYfri+ywlDKSnPXAPoQJfKyW57WfzuhgBUAhDdtXO4vaB7MeLKm187ErvHiAzatTeIIyIhxuyW8X8lw6IjQLL7AbD7bx6Oo6MgJxFnrE1fAkW+YeaR6ECdCkn1MVxpOvnYg9XuHILHcnCuLsrmRETvRTEltck8rCkN9DBmeu+i4aVTrFo9xVCFn2EoMwFgaLq5E1w="
